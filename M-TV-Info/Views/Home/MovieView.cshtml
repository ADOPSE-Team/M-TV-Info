@model M_TV_Info.Models.TMDbModels.MovieModel;
    @* Insert Data Using AJAX to Favorites / WatchList / Ratings  *@
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous"></script>
    <script>
        $(document).ready( function() {
            $('#addFav').click( function() {
                var _item = {};
                _item.media_id = $('#movie_id').val();
                _item.movie_title = $('#movie_title').val();
                _item.movie_poster = $('#poster_path').val();
                $.ajax({
                    type: "POST", //HTTP POST Method  
                    url: "/api/AjaxAPI/AddToFavourites", // Controller/View
                    data: JSON.stringify(_item),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (r) {
                        alert("Succesfully Added");
                    }
                });
            });
        });
    </script>
    <body>
        <div class="movie-container">
            <div class="btnPoster">
                @{
                    String path = "https://image.tmdb.org/t/p/original" + @Model.poster_path;
                }
                <img src=@path class="moviePoster" />
                <div class="add-buttons">
                    @if (User.Identity.IsAuthenticated)
                    {
                        <input type="hidden" id="poster_path" value="@path">
                        <input type="hidden" id="movie_id" value="@Model.id">
                        <input type="hidden" id="movie_title" value="@Model.title">
                        <img src="~/assets/addToFavoriteListButton.png" id="addFav" class="addFav" alt-="Add to your favorites">
                        <img src="~/assets/addToWatchlistButton.png" class="addWatch" alt="Add toy your watchlist">
                    }
                </div>
            </div>
            <div class="movie-dets">
                <div class="movieTop">
                    <p class="movieTitle">@Model.title</p>
                </div>
                <div class="synopsis">
                    @Model.overview
                </div>
                <div class="movieInfo">
                    <p>Release Date: @Model.release_date</p>
                    <p>Runtime: @Model.runtime</p>
                    <p>Production Companies: @Model.production_companies</p>
                    <p>
                        Genres:
                        @foreach (var item in Model.genres)
                        {
                            @item.name <span>&nbsp;</span>
                        }
                    </p>
                </div>
            </div>
        </div>
    </body>
